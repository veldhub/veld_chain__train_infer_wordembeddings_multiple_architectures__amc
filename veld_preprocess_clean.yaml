x-veld:
  code:
    description: "Removes lines that don't reach a threshold regarding the ratio of textual content 
      to non-textual (numbers, special characters) content."
    topic: 
      - "NLP"
      - "Preprocessing"
      - "ETL"

services:
  veld_preprocess_clean:
    extends:
      file: ./code/veld_code__nlp_generic_preprocessing/veld_preprocess_clean.yaml
      service: veld_preprocess_clean
    volumes:
      #- ./data/veld_data__amc_we_training_data/203_vert_rftt_inhalt_nodup__uniq__stripped__sampled/:/veld/input/:z
      #- ./data/veld_data__amc_we_training_data/203_vert_rftt_inhalt_nodup__uniq__stripped__sampled__cleaned/:/veld/output/data_clean/:z
      #- ./data/veld_data__amc_we_training_data/203_vert_rftt_inhalt_nodup__uniq__stripped__sampled__cleaned/:/veld/output/data_dirty/:z
      - ./data/veld_data__amc_we_training_data/203_vert_rftt_inhalt_nodup__uniq__stripped/:/veld/input/:z
      - ./data/veld_data__amc_we_training_data/203_vert_rftt_inhalt_nodup__uniq__stripped__cleaned/:/veld/output/data_clean/:z
      - ./data/veld_data__amc_we_training_data/203_vert_rftt_inhalt_nodup__uniq__stripped__cleaned/:/veld/output/data_dirty/:z
      - ./data/veld_data__amc_we_training_data/tmp/clean/:/veld/output/tmp/
    environment:
      in_file: "data.txt"
      out_file_clean: "data.txt"
      out_file_dirty: "data_dirty.txt"
      min_percentage_char: 80
      cpu_count: 14

